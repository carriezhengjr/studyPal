{"ast":null,"code":"import _objectSpread from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Analytics/AllArchiveJournalEntries.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { UserAuth } from '../../context/AuthContext';\nimport { db } from \"../../firebase.js\";\nimport { collection, query, onSnapshot, doc, orderBy, where } from \"firebase/firestore\";\nimport ArchiveJournalEntry from './ArchiveJournalEntry';\n\nvar AllArchiveJournalEntries = function AllArchiveJournalEntries() {\n  var _UserAuth = UserAuth(),\n      user = _UserAuth.user;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      archivedEntries = _useState2[0],\n      setArchivedEntries = _useState2[1];\n\n  useEffect(function () {\n    var active = true;\n\n    if (active == true && user.uid != null) {\n      var q = query(collection(db, \"archive-journal\"), where(\"uid\", \"==\", user.uid), orderBy('createdAt'));\n      console.log(\"Retrieving archived journal entries\");\n      var getAllArchivedEntries = onSnapshot(q, function (querySnapshot) {\n        var archived = [];\n        querySnapshot.forEach(function (doc) {\n          archived.push(_objectSpread({}, doc.data(), {\n            id: doc.id\n          }));\n        });\n        setArchivedEntries(function () {\n          return archived;\n        });\n      });\n      return function () {\n        active = false;\n      };\n    }\n  }, [user.uid]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/analytics\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"Back\"), archivedEntries.map(function (entry) {\n    return /*#__PURE__*/React.createElement(ArchiveJournalEntry, {\n      title: entry.title,\n      body: entry.body,\n      conclusion: entry.conclusion,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    });\n  }));\n};\n\nexport default AllArchiveJournalEntries;","map":{"version":3,"names":["React","useState","useEffect","UserAuth","db","collection","query","onSnapshot","doc","orderBy","where","ArchiveJournalEntry","AllArchiveJournalEntries","user","archivedEntries","setArchivedEntries","active","uid","q","console","log","getAllArchivedEntries","querySnapshot","archived","forEach","push","data","id","map","entry","title","body","conclusion"],"sources":["/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Analytics/AllArchiveJournalEntries.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport { UserAuth } from '../../context/AuthContext'\n\nimport {db} from \"../../firebase.js\"\nimport {\n    collection,\n    query,\n    onSnapshot,\n    doc,\n    orderBy, \n    where\n  } from \"firebase/firestore\"\n\nimport ArchiveJournalEntry from './ArchiveJournalEntry'\n\nconst AllArchiveJournalEntries = () => {\n    const {user}  = UserAuth()\n\n    const [archivedEntries, setArchivedEntries] = useState([])\n    useEffect(() => {\n        let active = true\n        if (active == true && user.uid != null) {\n            const q = query(collection(db, \"archive-journal\"), where (\"uid\", \"==\", user.uid), orderBy('createdAt'))\n            console.log(\"Retrieving archived journal entries\")\n            const getAllArchivedEntries = onSnapshot(q, (querySnapshot) => {\n                let archived = []\n                querySnapshot.forEach((doc) => {\n                    archived.push({...doc.data(), id: doc.id})\n                })\n                setArchivedEntries(() => archived)\n            })\n            return () => {active = false}}\n        }, [user.uid])\n\n    return (\n        <div>\n            <NavLink to='/analytics'>Back</NavLink>\n            {archivedEntries.map((entry) => (\n                <ArchiveJournalEntry\n                    title={entry.title}\n                    body={entry.body}\n                    conclusion={entry.conclusion}\n                />\n            ))}\n        </div>\n    )\n\n}\n\nexport default AllArchiveJournalEntries\n\n\n  \n\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,SAASC,QAAT,QAAyB,2BAAzB;AAEA,SAAQC,EAAR,QAAiB,mBAAjB;AACA,SACIC,UADJ,EAEIC,KAFJ,EAGIC,UAHJ,EAIIC,GAJJ,EAKIC,OALJ,EAMIC,KANJ,QAOS,oBAPT;AASA,OAAOC,mBAAP,MAAgC,uBAAhC;;AAEA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;EAAA,gBACnBT,QAAQ,EADW;EAAA,IAC5BU,IAD4B,aAC5BA,IAD4B;;EAAA,gBAGWZ,QAAQ,CAAC,EAAD,CAHnB;EAAA;EAAA,IAG5Ba,eAH4B;EAAA,IAGXC,kBAHW;;EAInCb,SAAS,CAAC,YAAM;IACZ,IAAIc,MAAM,GAAG,IAAb;;IACA,IAAIA,MAAM,IAAI,IAAV,IAAkBH,IAAI,CAACI,GAAL,IAAY,IAAlC,EAAwC;MACpC,IAAMC,CAAC,GAAGZ,KAAK,CAACD,UAAU,CAACD,EAAD,EAAK,iBAAL,CAAX,EAAoCM,KAAK,CAAE,KAAF,EAAS,IAAT,EAAeG,IAAI,CAACI,GAApB,CAAzC,EAAmER,OAAO,CAAC,WAAD,CAA1E,CAAf;MACAU,OAAO,CAACC,GAAR,CAAY,qCAAZ;MACA,IAAMC,qBAAqB,GAAGd,UAAU,CAACW,CAAD,EAAI,UAACI,aAAD,EAAmB;QAC3D,IAAIC,QAAQ,GAAG,EAAf;QACAD,aAAa,CAACE,OAAd,CAAsB,UAAChB,GAAD,EAAS;UAC3Be,QAAQ,CAACE,IAAT,mBAAkBjB,GAAG,CAACkB,IAAJ,EAAlB;YAA8BC,EAAE,EAAEnB,GAAG,CAACmB;UAAtC;QACH,CAFD;QAGAZ,kBAAkB,CAAC;UAAA,OAAMQ,QAAN;QAAA,CAAD,CAAlB;MACH,CANuC,CAAxC;MAOA,OAAO,YAAM;QAACP,MAAM,GAAG,KAAT;MAAe,CAA7B;IAA8B;EACjC,CAbI,EAaF,CAACH,IAAI,CAACI,GAAN,CAbE,CAAT;EAeA,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,OAAD;IAAS,EAAE,EAAC,YAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,UADJ,EAEKH,eAAe,CAACc,GAAhB,CAAoB,UAACC,KAAD;IAAA,oBACjB,oBAAC,mBAAD;MACI,KAAK,EAAEA,KAAK,CAACC,KADjB;MAEI,IAAI,EAAED,KAAK,CAACE,IAFhB;MAGI,UAAU,EAAEF,KAAK,CAACG,UAHtB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADiB;EAAA,CAApB,CAFL,CADJ;AAaH,CAhCD;;AAkCA,eAAepB,wBAAf"},"metadata":{},"sourceType":"module"}