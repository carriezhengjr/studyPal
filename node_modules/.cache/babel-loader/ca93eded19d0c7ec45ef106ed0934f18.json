{"ast":null,"code":"import _objectSpread from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Todolist/Todolist.js\";\n\nimport Title from '../Title.js';\nimport AddTodo from './AddTodo.js';\nimport Todoitem from './Todoitem.js';\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport ElderlyWomanIcon from '@mui/icons-material/ElderlyWoman';\nimport { db } from \"../../firebase.js\";\nimport { collection, query, onSnapshot, doc, updateDoc, deleteDoc, QuerySnapshot, orderBy } from \"firebase/firestore\";\n\nvar Todolist = function Todolist() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentTasks = _useState2[0],\n      setCurrentTasks = _useState2[1];\n\n  useEffect(function () {\n    var active = true;\n\n    if (active == true) {\n      var q = query(collection(db, \"todos\"), orderBy('createdAt'));\n      var getAllTasks = onSnapshot(q, function (querySnapshot) {\n        var tasks = [];\n        querySnapshot.forEach(function (doc) {\n          tasks.push(_objectSpread({}, doc.data(), {\n            id: doc.id\n          }));\n        });\n        setCurrentTasks(function () {\n          return tasks;\n        });\n      });\n    }\n\n    return function () {\n      active = false;\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"todo-list-main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    name: \"Todo List\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(AddTodo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), currentTasks.map(function (todo) {\n    return /*#__PURE__*/React.createElement(Todoitem, {\n      item: todo,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    });\n  }));\n};\n\nexport default Todolist;","map":{"version":3,"names":["Title","AddTodo","Todoitem","React","useState","useEffect","ElderlyWomanIcon","db","collection","query","onSnapshot","doc","updateDoc","deleteDoc","QuerySnapshot","orderBy","Todolist","currentTasks","setCurrentTasks","active","q","getAllTasks","querySnapshot","tasks","forEach","push","data","id","map","todo"],"sources":["/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Todolist/Todolist.js"],"sourcesContent":["import Title from '../Title.js'\nimport AddTodo from './AddTodo.js'\nimport Todoitem from './Todoitem.js'\n\nimport React from \"react\"\nimport { useState, useEffect } from \"react\"\n\nimport ElderlyWomanIcon from '@mui/icons-material/ElderlyWoman';\n\nimport {db} from \"../../firebase.js\"\nimport {\n    collection,\n    query,\n    onSnapshot,\n    doc,\n    updateDoc,\n    deleteDoc,\n    QuerySnapshot,\n    orderBy\n  } from \"firebase/firestore\"\n\n\nconst Todolist =  () => {\n  const [currentTasks, setCurrentTasks] = useState([])\n  \n  useEffect(() => {\n    let active = true\n    if (active == true) {\n      const q = query(collection(db, \"todos\"), orderBy('createdAt'))\n      const getAllTasks = onSnapshot(q, (querySnapshot) => {\n      let tasks = []\n      querySnapshot.forEach((doc) => {\n        tasks.push({...doc.data(), id:doc.id})\n      })\n      setCurrentTasks(() => tasks)\n      \n    })}\n    return () => {active = false}\n  },[])\n\n  return (\n    <div className=\"todo-list-main\">\n      <Title name={\"Todo List\"}/>\n      <AddTodo />\n      {currentTasks.map((todo) => (\n        <Todoitem \n          item={todo}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default Todolist\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,aAAlB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAOC,gBAAP,MAA6B,kCAA7B;AAEA,SAAQC,EAAR,QAAiB,mBAAjB;AACA,SACIC,UADJ,EAEIC,KAFJ,EAGIC,UAHJ,EAIIC,GAJJ,EAKIC,SALJ,EAMIC,SANJ,EAOIC,aAPJ,EAQIC,OARJ,QASS,oBATT;;AAYA,IAAMC,QAAQ,GAAI,SAAZA,QAAY,GAAM;EAAA,gBACkBZ,QAAQ,CAAC,EAAD,CAD1B;EAAA;EAAA,IACfa,YADe;EAAA,IACDC,eADC;;EAGtBb,SAAS,CAAC,YAAM;IACd,IAAIc,MAAM,GAAG,IAAb;;IACA,IAAIA,MAAM,IAAI,IAAd,EAAoB;MAClB,IAAMC,CAAC,GAAGX,KAAK,CAACD,UAAU,CAACD,EAAD,EAAK,OAAL,CAAX,EAA0BQ,OAAO,CAAC,WAAD,CAAjC,CAAf;MACA,IAAMM,WAAW,GAAGX,UAAU,CAACU,CAAD,EAAI,UAACE,aAAD,EAAmB;QACrD,IAAIC,KAAK,GAAG,EAAZ;QACAD,aAAa,CAACE,OAAd,CAAsB,UAACb,GAAD,EAAS;UAC7BY,KAAK,CAACE,IAAN,mBAAed,GAAG,CAACe,IAAJ,EAAf;YAA2BC,EAAE,EAAChB,GAAG,CAACgB;UAAlC;QACD,CAFD;QAGAT,eAAe,CAAC;UAAA,OAAMK,KAAN;QAAA,CAAD,CAAf;MAED,CAP+B,CAA9B;IAOC;;IACH,OAAO,YAAM;MAACJ,MAAM,GAAG,KAAT;IAAe,CAA7B;EACD,CAbQ,EAaP,EAbO,CAAT;EAeA,oBACE;IAAK,SAAS,EAAC,gBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,KAAD;IAAO,IAAI,EAAE,WAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,eAEE,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,EAGGF,YAAY,CAACW,GAAb,CAAiB,UAACC,IAAD;IAAA,oBAChB,oBAAC,QAAD;MACE,IAAI,EAAEA,IADR;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADgB;EAAA,CAAjB,CAHH,CADF;AAWD,CA7BD;;AA+BA,eAAeb,QAAf"},"metadata":{},"sourceType":"module"}