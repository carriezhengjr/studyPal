{"ast":null,"code":"import _objectSpread from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Calendar/CalendarScheduler.js\";\n\nimport React from 'react';\nimport { useEffect, useState, useCallback } from 'react';\nimport { db } from \"../../firebase\";\nimport { async } from \"@firebase/util\";\nimport { doc, setDoc, addDoc, collection, query, where, getDocs, onSnapshot, deleteDoc, updateDoc, QuerySnapshot, orderBy } from \"firebase/firestore\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport './Cal.css';\nimport Title from '../Title.js';\nvar localizer = momentLocalizer(moment);\n\nvar CalendarScheduler = function CalendarScheduler(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      events = _useState2[0],\n      setEvent = _useState2[1];\n\n  var data = [{\n    start: new Date(),\n    end: new Date(),\n    title: \"hello\"\n  }, {\n    start: new Date(),\n    end: new Date(),\n    title: \"world\"\n  }];\n  useEffect(function () {\n    var active = true;\n\n    if (active == true) {\n      var q = query(collection(db, \"calendar\"));\n      var getAllTasks = onSnapshot(q, function (querySnapshot) {\n        var newEvents = [];\n        querySnapshot.forEach(function (doc) {\n          newEvents.push(_objectSpread({}, doc.data(), {\n            id: doc.id\n          }));\n        });\n        setEvent(function () {\n          return newEvents;\n        });\n        console.log(newEvents);\n        console.log(events);\n      });\n    }\n\n    return function () {\n      active = false;\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    defaultDate: moment().toDate(),\n    defaultView: \"month\",\n    views: ['month', 'week'],\n    localizer: localizer,\n    events: events,\n    selectable: true,\n    onSelectSlot: createNewEvent,\n    onSelectEvent: deleteCurrentEvent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default CalendarScheduler;","map":{"version":3,"names":["React","useEffect","useState","useCallback","db","async","doc","setDoc","addDoc","collection","query","where","getDocs","onSnapshot","deleteDoc","updateDoc","QuerySnapshot","orderBy","Calendar","momentLocalizer","moment","Title","localizer","CalendarScheduler","props","events","setEvent","data","start","Date","end","title","active","q","getAllTasks","querySnapshot","newEvents","forEach","push","id","console","log","toDate","createNewEvent","deleteCurrentEvent"],"sources":["/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Calendar/CalendarScheduler.js"],"sourcesContent":["import React from 'react'\nimport { useEffect, useState, useCallback } from 'react'\n\nimport { db } from \"../../firebase\"\nimport { async } from \"@firebase/util\"\nimport {  doc, \n          setDoc, \n          addDoc, \n          collection, \n          query, \n          where,\n          getDocs, \n          onSnapshot,\n          deleteDoc,\n          updateDoc,\n          QuerySnapshot,\n          orderBy  } from \"firebase/firestore\"; \n\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport './Cal.css'\n\nimport Title from '../Title.js'\n\nconst localizer = momentLocalizer(moment);\n\nconst CalendarScheduler = (props) => {\n\n  const[events, setEvent] = useState([])\n\n  const data = [\n    {\n      start: new Date(),\n      end: new Date(),\n      title: \"hello\"\n    },\n    {\n      start: new Date(),\n      end: new Date(),\n      title: \"world\"\n    }\n  ]\n\n  useEffect(() => {\n    let active = true\n    if (active == true) {\n      const q = query(collection(db, \"calendar\"))\n      const getAllTasks = onSnapshot(q, (querySnapshot) => {\n      let newEvents = []\n      querySnapshot.forEach((doc) => {\n        newEvents.push({...doc.data(), id:doc.id})\n        })\n\n      \n\n\n\n\n\n\n\n      setEvent(() => newEvents)\n      console.log(newEvents)\n      console.log(events)\n      })}\n    return () => {active = false}\n    },[])\n  \n  \n\n  return (\n      <div className=\"App\"> \n      <Calendar\n        defaultDate={moment().toDate()}\n        defaultView=\"month\"\n        views={['month','week']}\n        localizer={localizer}\n        events={events}\n        selectable\n        onSelectSlot={createNewEvent}\n        onSelectEvent={deleteCurrentEvent}\n      />   \n      </div>\n    );\n}\n\n\n\nexport default CalendarScheduler\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,WAA9B,QAAiD,OAAjD;AAEA,SAASC,EAAT,QAAmB,gBAAnB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAAUC,GAAV,EACUC,MADV,EAEUC,MAFV,EAGUC,UAHV,EAIUC,KAJV,EAKUC,KALV,EAMUC,OANV,EAOUC,UAPV,EAQUC,SARV,EASUC,SATV,EAUUC,aAVV,EAWUC,OAXV,QAW0B,oBAX1B;AAaA,SAASC,QAAT,EAAmBC,eAAnB,QAA0C,oBAA1C;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,mDAAP;AACA,OAAO,WAAP;AAEA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,IAAMC,SAAS,GAAGH,eAAe,CAACC,MAAD,CAAjC;;AAEA,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAAW;EAAA,gBAETtB,QAAQ,CAAC,EAAD,CAFC;EAAA;EAAA,IAE7BuB,MAF6B;EAAA,IAErBC,QAFqB;;EAInC,IAAMC,IAAI,GAAG,CACX;IACEC,KAAK,EAAE,IAAIC,IAAJ,EADT;IAEEC,GAAG,EAAE,IAAID,IAAJ,EAFP;IAGEE,KAAK,EAAE;EAHT,CADW,EAMX;IACEH,KAAK,EAAE,IAAIC,IAAJ,EADT;IAEEC,GAAG,EAAE,IAAID,IAAJ,EAFP;IAGEE,KAAK,EAAE;EAHT,CANW,CAAb;EAaA9B,SAAS,CAAC,YAAM;IACd,IAAI+B,MAAM,GAAG,IAAb;;IACA,IAAIA,MAAM,IAAI,IAAd,EAAoB;MAClB,IAAMC,CAAC,GAAGvB,KAAK,CAACD,UAAU,CAACL,EAAD,EAAK,UAAL,CAAX,CAAf;MACA,IAAM8B,WAAW,GAAGrB,UAAU,CAACoB,CAAD,EAAI,UAACE,aAAD,EAAmB;QACrD,IAAIC,SAAS,GAAG,EAAhB;QACAD,aAAa,CAACE,OAAd,CAAsB,UAAC/B,GAAD,EAAS;UAC7B8B,SAAS,CAACE,IAAV,mBAAmBhC,GAAG,CAACqB,IAAJ,EAAnB;YAA+BY,EAAE,EAACjC,GAAG,CAACiC;UAAtC;QACC,CAFH;QAYAb,QAAQ,CAAC;UAAA,OAAMU,SAAN;QAAA,CAAD,CAAR;QACAI,OAAO,CAACC,GAAR,CAAYL,SAAZ;QACAI,OAAO,CAACC,GAAR,CAAYhB,MAAZ;MACC,CAjB6B,CAA9B;IAiBG;;IACL,OAAO,YAAM;MAACO,MAAM,GAAG,KAAT;IAAe,CAA7B;EACC,CAvBM,EAuBL,EAvBK,CAAT;EA2BA,oBACI;IAAK,SAAS,EAAC,KAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA,oBAAC,QAAD;IACE,WAAW,EAAEZ,MAAM,GAAGsB,MAAT,EADf;IAEE,WAAW,EAAC,OAFd;IAGE,KAAK,EAAE,CAAC,OAAD,EAAS,MAAT,CAHT;IAIE,SAAS,EAAEpB,SAJb;IAKE,MAAM,EAAEG,MALV;IAME,UAAU,MANZ;IAOE,YAAY,EAAEkB,cAPhB;IAQE,aAAa,EAAEC,kBARjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADA,CADJ;AAcD,CA1DD;;AA8DA,eAAerB,iBAAf"},"metadata":{},"sourceType":"module"}