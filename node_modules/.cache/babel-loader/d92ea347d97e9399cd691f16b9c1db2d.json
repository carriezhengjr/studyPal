{"ast":null,"code":"import _slicedToArray from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Calendar/CalendarTemplate.js\";\n\nimport React from 'react';\nimport { useEffect, useState, useCallback } from 'react';\nimport { db } from \"../../firebase\";\nimport { async } from \"@firebase/util\";\nimport { doc, setDoc, addDoc, collection, query, where, getDocs, onSnapshot, deleteDoc, updateDoc, QuerySnapshot, orderBy } from \"firebase/firestore\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport './Cal.css';\nimport Title from '../Title.js';\nimport CalendarScheduler from './CalendarScheduler.js';\nimport Test from './Test.js';\n\nvar CalendarTemplate = function CalendarTemplate() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentEvents = _useState2[0],\n      setCurrentEvents = _useState2[1];\n\n  useEffect(function () {\n    var q = query(collection(db, \"calendar\"));\n    var unsub = onSnapshot(q, function (querySnapshot) {\n      var events = [];\n      querySnapshot.docs.map(function (doc) {\n        return {\n          id: doc.id,\n          title: doc.get('title'),\n          start: doc.get('start'),\n          end: doc.get('end')\n        };\n      });\n      setCurrentEvents([].concat(events));\n    });\n    return function () {\n      unsub();\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    name: \"Calender\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Calendar, {\n    defaultDate: moment().toDate(),\n    defaultView: \"month\",\n    views: ['month', 'week'],\n    localizer: localizer,\n    events: data,\n    selectable: true,\n    onSelectEvent: deleteCurrentEvent,\n    onSelectSlot: createNewEvent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default CalendarTemplate;","map":{"version":3,"names":["React","useEffect","useState","useCallback","db","async","doc","setDoc","addDoc","collection","query","where","getDocs","onSnapshot","deleteDoc","updateDoc","QuerySnapshot","orderBy","Calendar","momentLocalizer","moment","FullCalendar","Title","CalendarScheduler","Test","CalendarTemplate","currentEvents","setCurrentEvents","q","unsub","querySnapshot","events","docs","map","id","title","get","start","end","toDate","localizer","data","deleteCurrentEvent","createNewEvent"],"sources":["/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Calendar/CalendarTemplate.js"],"sourcesContent":["import React from 'react'\nimport { useEffect, useState, useCallback } from 'react'\n\nimport { db } from \"../../firebase\"\nimport { async } from \"@firebase/util\"\nimport {  doc, \n          setDoc, \n          addDoc, \n          collection, \n          query, \n          where,\n          getDocs, \n          onSnapshot,\n          deleteDoc,\n          updateDoc,\n          QuerySnapshot,\n          orderBy  } from \"firebase/firestore\"; \n\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport './Cal.css'\n\nimport Title from '../Title.js'\nimport CalendarScheduler from './CalendarScheduler.js';\nimport Test from './Test.js';\n\n\nconst CalendarTemplate = () => {\n    const [currentEvents, setCurrentEvents] = useState([])\n    \n    useEffect(() => {\n        const q = query(collection(db, \"calendar\"))\n        const unsub = onSnapshot(q, (querySnapshot) => {\n            let events = []\n            querySnapshot.docs.map((doc) => {\n                return {\n                    id: doc.id,\n                    title: doc.get('title'),\n                    start: doc.get('start'),\n                    end: doc.get('end')\n                }\n            })\n            setCurrentEvents([...events])\n        })\n        return () => {unsub()}\n    },[])\n\n    return (\n        <div>\n            <Title name={\"Calender\"}/>\n            <Calendar\n          defaultDate={moment().toDate()}\n          defaultView=\"month\"\n          views={['month','week']}\n          localizer={localizer}\n          events={data}\n          selectable\n          onSelectEvent={deleteCurrentEvent}\n          onSelectSlot={createNewEvent}\n        />   \n        </div>\n    )\n}\n\nexport default CalendarTemplate"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,WAA9B,QAAiD,OAAjD;AAEA,SAASC,EAAT,QAAmB,gBAAnB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAAUC,GAAV,EACUC,MADV,EAEUC,MAFV,EAGUC,UAHV,EAIUC,KAJV,EAKUC,KALV,EAMUC,OANV,EAOUC,UAPV,EAQUC,SARV,EASUC,SATV,EAUUC,aAVV,EAWUC,OAXV,QAW0B,oBAX1B;AAaA,SAASC,QAAT,EAAmBC,eAAnB,QAA0C,oBAA1C;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,OAAO,mDAAP;AACA,OAAO,WAAP;AAEA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,iBAAP,MAA8B,wBAA9B;AACA,OAAOC,IAAP,MAAiB,WAAjB;;AAGA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;EAAA,gBACevB,QAAQ,CAAC,EAAD,CADvB;EAAA;EAAA,IACpBwB,aADoB;EAAA,IACLC,gBADK;;EAG3B1B,SAAS,CAAC,YAAM;IACZ,IAAM2B,CAAC,GAAGlB,KAAK,CAACD,UAAU,CAACL,EAAD,EAAK,UAAL,CAAX,CAAf;IACA,IAAMyB,KAAK,GAAGhB,UAAU,CAACe,CAAD,EAAI,UAACE,aAAD,EAAmB;MAC3C,IAAIC,MAAM,GAAG,EAAb;MACAD,aAAa,CAACE,IAAd,CAAmBC,GAAnB,CAAuB,UAAC3B,GAAD,EAAS;QAC5B,OAAO;UACH4B,EAAE,EAAE5B,GAAG,CAAC4B,EADL;UAEHC,KAAK,EAAE7B,GAAG,CAAC8B,GAAJ,CAAQ,OAAR,CAFJ;UAGHC,KAAK,EAAE/B,GAAG,CAAC8B,GAAJ,CAAQ,OAAR,CAHJ;UAIHE,GAAG,EAAEhC,GAAG,CAAC8B,GAAJ,CAAQ,KAAR;QAJF,CAAP;MAMH,CAPD;MAQAT,gBAAgB,WAAKI,MAAL,EAAhB;IACH,CAXuB,CAAxB;IAYA,OAAO,YAAM;MAACF,KAAK;IAAG,CAAtB;EACH,CAfQ,EAeP,EAfO,CAAT;EAiBA,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,KAAD;IAAO,IAAI,EAAE,UAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,eAEI,oBAAC,QAAD;IACF,WAAW,EAAET,MAAM,GAAGmB,MAAT,EADX;IAEF,WAAW,EAAC,OAFV;IAGF,KAAK,EAAE,CAAC,OAAD,EAAS,MAAT,CAHL;IAIF,SAAS,EAAEC,SAJT;IAKF,MAAM,EAAEC,IALN;IAMF,UAAU,MANR;IAOF,aAAa,EAAEC,kBAPb;IAQF,YAAY,EAAEC,cARZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFJ,CADJ;AAeH,CAnCD;;AAqCA,eAAelB,gBAAf"},"metadata":{},"sourceType":"module"}