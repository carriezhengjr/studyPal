{"ast":null,"code":"import _objectSpread from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/ongyongen/Desktop/studyPal-local/studyPal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Analytics/AllActiveJournalEntries.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport { UserAuth } from '../../context/AuthContext';\nimport { db } from \"../../firebase.js\";\nimport { collection, query, onSnapshot, doc, updateDoc, deleteDoc, QuerySnapshot, orderBy, where } from \"firebase/firestore\";\n\nvar _UserAuth = UserAuth(),\n    user = _UserAuth.user;\n\nvar _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    archivedEntries = _useState2[0],\n    setArchivedEntries = _useState2[1];\n\nuseEffect(function () {\n  var active = true;\n\n  if (active == true && user.uid != null) {\n    var q = query(collection(db, \"archive-journal\"), where(\"uid\", \"==\", user.uid), orderBy('createdAt'));\n    console.log(\"Retrieving archived journal entries\");\n    var getAllArchivedEntries = onSnapshot(q, function (querySnapshot) {\n      var archived = [];\n      querySnapshot.forEach(function (doc) {\n        archived.push(_objectSpread({}, doc.data(), {\n          id: doc.id\n        }));\n      });\n      setArchivedEntries(function () {\n        return archived;\n      });\n    });\n    return function () {\n      active = false;\n    };\n  }\n}, [user.uid]);\n\nvar AllActiveJournalEntries = function AllActiveJournalEntries() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/analytics\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"Back\"));\n};\n\nexport default AllActiveJournalEntries;","map":{"version":3,"names":["React","useState","useEffect","NavLink","UserAuth","db","collection","query","onSnapshot","doc","updateDoc","deleteDoc","QuerySnapshot","orderBy","where","user","archivedEntries","setArchivedEntries","active","uid","q","console","log","getAllArchivedEntries","querySnapshot","archived","forEach","push","data","id","AllActiveJournalEntries"],"sources":["/Users/ongyongen/Desktop/studyPal-local/studyPal/src/components/Analytics/AllActiveJournalEntries.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { NavLink } from \"react-router-dom\";\nimport { UserAuth } from '../../context/AuthContext'\nimport {db} from \"../../firebase.js\"\nimport {\n    collection,\n    query,\n    onSnapshot,\n    doc,\n    updateDoc,\n    deleteDoc,\n    QuerySnapshot,\n    orderBy, \n    where\n  } from \"firebase/firestore\"\n\n  const {user}  = UserAuth()\n\n    const [archivedEntries, setArchivedEntries] = useState([])\n    useEffect(() => {\n        let active = true\n        if (active == true && user.uid != null) {\n            const q = query(collection(db, \"archive-journal\"), where (\"uid\", \"==\", user.uid), orderBy('createdAt'))\n            console.log(\"Retrieving archived journal entries\")\n            const getAllArchivedEntries = onSnapshot(q, (querySnapshot) => {\n                let archived = []\n                querySnapshot.forEach((doc) => {\n                    archived.push({...doc.data(), id: doc.id})\n                })\n                setArchivedEntries(() => archived)\n            })\n            return () => {active = false}}\n        }, [user.uid])\n\n        \nconst AllActiveJournalEntries = () => {\n    return (\n        <div>\n            <NavLink to='/analytics'>\n                Back\n            </NavLink>\n        </div>\n    )\n\n}\n\nexport default AllActiveJournalEntries"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,QAAT,QAAyB,2BAAzB;AACA,SAAQC,EAAR,QAAiB,mBAAjB;AACA,SACIC,UADJ,EAEIC,KAFJ,EAGIC,UAHJ,EAIIC,GAJJ,EAKIC,SALJ,EAMIC,SANJ,EAOIC,aAPJ,EAQIC,OARJ,EASIC,KATJ,QAUS,oBAVT;;gBAYkBV,QAAQ,E;IAAjBW,I,aAAAA,I;;gBAEyCd,QAAQ,CAAC,EAAD,C;;IAA/Ce,e;IAAiBC,kB;;AACxBf,SAAS,CAAC,YAAM;EACZ,IAAIgB,MAAM,GAAG,IAAb;;EACA,IAAIA,MAAM,IAAI,IAAV,IAAkBH,IAAI,CAACI,GAAL,IAAY,IAAlC,EAAwC;IACpC,IAAMC,CAAC,GAAGb,KAAK,CAACD,UAAU,CAACD,EAAD,EAAK,iBAAL,CAAX,EAAoCS,KAAK,CAAE,KAAF,EAAS,IAAT,EAAeC,IAAI,CAACI,GAApB,CAAzC,EAAmEN,OAAO,CAAC,WAAD,CAA1E,CAAf;IACAQ,OAAO,CAACC,GAAR,CAAY,qCAAZ;IACA,IAAMC,qBAAqB,GAAGf,UAAU,CAACY,CAAD,EAAI,UAACI,aAAD,EAAmB;MAC3D,IAAIC,QAAQ,GAAG,EAAf;MACAD,aAAa,CAACE,OAAd,CAAsB,UAACjB,GAAD,EAAS;QAC3BgB,QAAQ,CAACE,IAAT,mBAAkBlB,GAAG,CAACmB,IAAJ,EAAlB;UAA8BC,EAAE,EAAEpB,GAAG,CAACoB;QAAtC;MACH,CAFD;MAGAZ,kBAAkB,CAAC;QAAA,OAAMQ,QAAN;MAAA,CAAD,CAAlB;IACH,CANuC,CAAxC;IAOA,OAAO,YAAM;MAACP,MAAM,GAAG,KAAT;IAAe,CAA7B;EAA8B;AACjC,CAbI,EAaF,CAACH,IAAI,CAACI,GAAN,CAbE,CAAT;;AAgBJ,IAAMW,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;EAClC,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,OAAD;IAAS,EAAE,EAAC,YAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,UADJ,CADJ;AAQH,CATD;;AAWA,eAAeA,uBAAf"},"metadata":{},"sourceType":"module"}